## Cliente {#sec:client}

O cliente do nosso sistema acaba por ser uma componente bastante simples quando comparada com as restantes, tendo apenas de saber à partida a porta à qual o tem de aceder para estabelecer ligação com o _frontend_.

Para conseguirmos visualizar melhor as várias informações que vão chegando ao cliente e para ter uma interface de fácil utilização e sem um protocolo de comunicação que fosse necessário o cliente saber _à priori_ decidimos implementar uma interface gráfica, que permite que o cliente numa primeira fase se registe no sistema tirando partido do _login manager_ que foi explicado na secção do _frontend_, uma vez registado e tendo feito o _login_ é apresentado uma interface bastante simples de utilizar ao cliente, que lhe permite mudar a sua localização, enviando qual a sua nova localização para o _frontend_ que depois faz o pedido de atualização ao servidor distrital para que este atualize o que tem de ser atualizado quando um movimento acontece, como a lista de contactos, e permita mudar de facto a informação da localização presente no distrito, assim como saber quantos utilizadores se encontram numa determinada área do distrito, fazer as subscricações através do processo que também já foi explicado no servidor distrital, e notificar se está infetado ou não. Sendo que no caso de se encontrar infetado o cliente não pode voltar a movimentar-se por se considerar que está de quarentena, contudo achamos importante que mesmo o cliente estando em quarenta podesse continuar a receber notificações e a fazer pedidos de informação ao servidor de _frontend_ que depois os reencaminha para o servidor distrital.

No sistema de notificações do lado do cliente ocorre algo muito semelhante ao que se passava no servidor distrital, sendo que temos 3 _threads_ a correr em simultâneo, uma principal para atender os pedidos que o cliente vai fazendo através da interface gráfica, uma para funcionar como subscritor das notificações privadas que é criada logo no momento em que o cliente faz o _login_ na conta, e por fim uma thread que é criada quando o cliente pretende fazer a sua primeira subscrição para um distrito e que é responsável pelas notificações públicas.
